@using BudgetOnline.Web.UI.Controls
@model BudgetOnline.Web.ViewModels.TransactionEditViewModel
@{
    ViewBag.Title = "Редактирование";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var editorId = Html.GetUniqId(10);
}
@Html.AlertGenerator()
<div class="row-fluid">
    @if (Model.Errors().Any())
    {
        foreach (var error in Model.Errors())
        {
        <div class="alert alert-error">
            <button type="button" class="close" data-dismiss="alert">
                &times;</button>
            @error
        </div>
        }
    }
</div>
<div class="row-fluid" id="@editorId">
    @(Html.BudgetOnlineWeb().Form(BudgetOnlineWebControls.FormTypes.Horizontal)
 .ActionUrl(Url.Action("edit"))
                        .Content(@<text>
    @Html.ValidationSummary()
    @Html.EditorForModel("~/Views/Shared/EditorTemplates/Object.cshtml")
    <div class="form-actions">
        <div class="control-group">
            @Html.BudgetOnlineWeb().SubmitNormalButton().Caption("Сохранить").Build()
            @Html.BudgetOnlineWeb().ButtonNormal().Caption("Отмена").RedirectTo(Url.Action("list")).Build()
        </div>
    </div>
    </text>)
        .Build())
    <script type="text/javascript" src="@Url.Content("~/Scripts/Transactions/editor.js")"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            initialiseEditor($('#@(editorId)'));
        });
    </script>
</div>
